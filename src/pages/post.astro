---
    import Layout from "../layouts/Layout.astro";
    const response = await fetch('https://jsonplaceholder.typicode.com/posts'); //Top level await
    const posts = await response.json();
    console.log(posts);
---
<Layout title="Posts API Astro" metaDescription="Este es un ejemplo del Async/ Await en Astro">


<section class="posts">
    <h2>Mis posts</h2>
    {posts.map(post => (
            <article class="card">
                <h3>{post.userId}</h3> 
                <h3>{post.title}</h3>   
                <p>{post.body}</p>   
                </article>
    ))}

</section>

<style>
    .posts {
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 3rem;

        & h2 {
            margin: 0;
        }
    }
    .card {
        width: 30rem;
        border: 4px solid rgb(136, 35, 35);
        border-radius: 2rem;
        margin: 0;
        padding: 3rem;
        & h3:nth-child(2) {
            text-align: center;
        }
    }
</style>
</Layout>